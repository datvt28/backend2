extends layout

block content
  .container
    h2 ğŸ“’ Danh sÃ¡ch ghi chÃº cá»§a #{username}

    form.search-form(method='get', action='/search')
      input(type='text', name='q', placeholder='ğŸ” TÃ¬m ghi chÃº...')
      button(type='submit') TÃ¬m

    form.note-form(method='post', action='/submit', enctype='multipart/form-data')
      input(type='text', name='title', placeholder='ğŸ“ TiÃªu Ä‘á» ghi chÃº...')
      textarea(name='note', rows='3', placeholder='âœï¸ Ná»™i dung ghi chÃº...')
      input(type='file', name='image')
      label.checkbox
        input(type='checkbox', name='pinned')
        | ğŸ“Œ Ghim ghi chÃº
      button(type='submit') â• ThÃªm ghi chÃº

    if message
      .alert.alert-info= message

    .notes
      each note in notes
        .note(class=note.pinned ? 'pinned' : '')
          if note.image
            img(src=note.image, alt='áº¢nh')
          if username === 'admin'
            p.nguoitao ğŸ‘¤ NgÆ°á»i táº¡o: #{note.username}
          if note.title
            h3= note.title
          p= note.text
          .note-footer
            a.button(href=`/edit/${note._id}`) âœï¸ Sá»­a
            a.button.danger(href=`/delete/${note._id}` onclick='return confirm("Báº¡n cÃ³ cháº¯c muá»‘n xoÃ¡?")') ğŸ—‘ XoÃ¡

    .pagination
      if page > 1
        a(href=`/?page=${page - 1}`) â—€ TrÆ°á»›c
      span Trang #{page} / #{totalPages}
      if page < totalPages
        a(href=`/?page=${page + 1}`) Tiáº¿p â–¶

    .actions
      a.button.logout(href='/logout') ğŸšª ÄÄƒng xuáº¥t
      if username === 'admin'
        a.button(href='/users') ğŸ‘¥ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
